# 快速测试检查清单

## 🚀 测试前准备
- [ ] 确保后端服务运行在 http://192.168.32.168:9800
- [ ] 确保前端服务运行在 http://192.168.32.168:8050
- [ ] 浏览器允许麦克风权限
- [ ] 确保扬声器/耳机正常工作

## 📝 场景1: 文本聊天测试

### 基础功能测试
- [ ] 打开 http://192.168.32.168:8050/core/chat
- [ ] 输入文本："你好，请介绍一下自己"
- [ ] 点击发送按钮
- [ ] **检查点1**: 发送按钮变为loading状态
- [ ] **检查点2**: 录音和通话按钮变为disabled
- [ ] **检查点3**: 等待SSE流式输出完成
- [ ] **检查点4**: TTS自动播放回复
- [ ] **检查点5**: 所有按钮回到可用状态

### 边界情况测试
- [ ] 测试空输入（应该显示警告）
- [ ] 测试长文本（>500字符）
- [ ] 测试特殊字符和表情符号

## 🎤 场景2: 录音对话测试

### 基础录音测试
- [ ] 点击录音按钮
- [ ] **检查点1**: 录音按钮变为recording状态
- [ ] **检查点2**: 显示录音波形动画
- [ ] **检查点3**: 文本和通话按钮变为disabled
- [ ] 说话："请告诉我今天的天气"
- [ ] 松开录音按钮
- [ ] **检查点4**: 录音完成后自动STT转换
- [ ] **检查点5**: STT结果填入输入框
- [ ] **检查点6**: 自动触发SSE处理
- [ ] **检查点7**: TTS播放回复

### 权限和错误测试
- [ ] 拒绝麦克风权限，观察错误处理
- [ ] 在嘈杂环境中测试录音
- [ ] 测试轻声说话识别

## 🎯 场景3: 语音实时对话测试

### 实时对话启动
- [ ] 点击"开始实时对话"按钮
- [ ] **检查点1**: 按钮状态变为listening
- [ ] **检查点2**: 显示实时状态指示器
- [ ] **检查点3**: 音频可视化开始工作
- [ ] 开始说话测试VAD检测

### 连续对话测试
- [ ] 进行多轮对话
- [ ] **检查点1**: 对话历史正确记录
- [ ] **检查点2**: 状态指示器实时更新
- [ ] 测试静音/取消静音功能
- [ ] 测试停止对话功能

## 🔄 按钮状态测试矩阵

### 状态转换验证
| 操作 | 发送按钮 | 录音按钮 | 通话按钮 | 状态 |
|------|---------|---------|---------|------|
| 初始状态 | ✅ 可用 | ✅ 可用 | ✅ 可用 | IDLE |
| 点击发送 | 🔄 loading+disabled | ❌ disabled | ❌ disabled | TEXT_PROCESSING |
| 点击录音 | ❌ disabled | 🔴 recording | ❌ disabled | RECORDING |
| 点击通话 | ❌ disabled | ❌ disabled | 🔴 calling | CALLING |
| 处理完成 | ✅ 可用 | ✅ 可用 | ✅ 可用 | IDLE |

### 并发操作测试
- [ ] 在TTS播放时点击其他按钮（应该被阻止）
- [ ] 在SSE处理时尝试录音（应该被阻止）
- [ ] 快速连续点击不同按钮（状态应该正确排队）

## 🐛 错误处理测试

### 网络错误测试
- [ ] 断开网络连接，观察重连机制
- [ ] 模拟网络延迟，观察超时处理

### 音频错误测试
- [ ] 拔掉麦克风，观察错误提示
- [ ] 静音扬声器，观察TTS播放状态

### 系统错误测试
- [ ] 刷新页面，观察状态恢复
- [ ] 关闭标签页，观察资源清理

## 📊 性能测试

### 响应时间测试
- [ ] 文本发送到显示回复 < 3秒
- [ ] 录音完成到STT结果 < 2秒
- [ ] 实时对话延迟 < 2秒

### 稳定性测试
- [ ] 连续使用30分钟无崩溃
- [ ] 多次录音无冲突
- [ ] 长时间实时对话无中断

## ✅ 测试完成标准

### 必须通过的功能
- [ ] 三个场景功能100%可用
- [ ] 按钮状态转换100%正确
- [ ] 错误处理正常
- [ ] 用户体验流畅

### 性能要求
- [ ] 响应时间符合预期
- [ ] 音频质量清晰
- [ ] 无内存泄漏
- [ ] 无控制台错误

---

## 📝 测试记录模板

### 测试环境
- 浏览器: ___________
- 操作系统: ___________
- 网络环境: ___________
- 测试时间: ___________

### 问题记录
| 问题描述 | 复现步骤 | 预期结果 | 实际结果 | 严重程度 |
|---------|---------|---------|---------|---------|
| | | | | |
| | | | | |
| | | | | |

### 测试结果
- [ ] 通过
- [ ] 部分通过（需要修复的问题：_______）
- [ ] 不通过（主要问题：_______）

---

**测试执行人**: ___________  
**测试日期**: ___________  
**测试结果**: ___________
