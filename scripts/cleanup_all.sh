#!/bin/bash

# yyAsistant ä¸€é”®æ¸…ç†è„šæœ¬
# ç”¨äºŽå…¨é¢æ¸…ç†é¡¹ç›®æ–‡ä»¶ï¼Œä¾¿äºŽæµ‹è¯•å’Œè°ƒæ•´

echo "ðŸ§¹ å¼€å§‹ä¸€é”®æ¸…ç† yyAsistant é¡¹ç›®..."

# 1. æ£€æŸ¥æ–‡ä»¶çŠ¶æ€
echo "ðŸ” æ­¥éª¤1: æ£€æŸ¥æ–‡ä»¶çŠ¶æ€..."
./scripts/check_file_status.sh

# 2. æ¸…ç†é¡¹ç›®æ–‡ä»¶
echo "ðŸ§¹ æ­¥éª¤2: æ¸…ç†é¡¹ç›®æ–‡ä»¶..."
./scripts/cleanup_project.sh

# 3. ä¼˜åŒ–é¡¹ç›®ç»“æž„
echo "ðŸ”§ æ­¥éª¤3: ä¼˜åŒ–é¡¹ç›®ç»“æž„..."
./scripts/optimize_structure.sh

# 4. åˆ›å»ºæ¸…ç†åŽçš„é¡¹ç›®ç»“æž„æŠ¥å‘Š
echo "ðŸ“Š æ­¥éª¤4: ç”Ÿæˆæ¸…ç†æŠ¥å‘Š..."
cat > docs/refactoring/20-cleanup-complete.md << 'EOF'
# é¡¹ç›®æ¸…ç†å®ŒæˆæŠ¥å‘Š

## æ¸…ç†æ—¶é—´
EOF

echo "$(date)" >> docs/refactoring/20-cleanup-complete.md

cat >> docs/refactoring/20-cleanup-complete.md << 'EOF'

## æ¸…ç†å†…å®¹

### 1. æ–‡ä»¶çŠ¶æ€æ£€æŸ¥
- âœ… æ£€æŸ¥äº†æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶
- âœ… æ£€æŸ¥äº†æ‰€æœ‰UIä¼˜åŒ–æ–‡ä»¶
- âœ… æ£€æŸ¥äº†æ‰€æœ‰æµ‹è¯•æ–‡ä»¶
- âœ… æ£€æŸ¥äº†æ‰€æœ‰é…ç½®æ–‡ä»¶
- âœ… æ£€æŸ¥äº†æ‰€æœ‰æ–‡æ¡£æ–‡ä»¶

### 2. é¡¹ç›®æ–‡ä»¶æ¸…ç†
- ðŸ“¦ ç§»åŠ¨äº†æš‚æ—¶ç¦ç”¨çš„æ–‡ä»¶
- ðŸ—‘ï¸ ç§»åŠ¨äº†å·²åºŸå¼ƒçš„æ–‡ä»¶
- ðŸ§ª æ•´ç†äº†æµ‹è¯•æ–‡ä»¶
- ðŸ“š æ•´ç†äº†æ–‡æ¡£æ–‡ä»¶
- ðŸ§½ æ¸…ç†äº†ä¸´æ—¶æ–‡ä»¶

### 3. é¡¹ç›®ç»“æž„ä¼˜åŒ–
- ðŸ“ åˆ›å»ºäº†æ ‡å‡†ç›®å½•ç»“æž„
- âš™ï¸ åˆ›å»ºäº†çŽ¯å¢ƒé…ç½®æ–‡ä»¶
- ðŸ› ï¸ åˆ›å»ºäº†å¼€å‘è„šæœ¬
- ðŸš€ åˆ›å»ºäº†éƒ¨ç½²è„šæœ¬
- ðŸ’¾ åˆ›å»ºäº†å¤‡ä»½è„šæœ¬
- ðŸ“‹ åˆ›å»ºäº†é¡¹ç›®é…ç½®æ–‡ä»¶

## æ¸…ç†åŽçš„é¡¹ç›®ç»“æž„

```
yyAsistant/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒç®¡ç†å™¨
â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”œâ”€â”€ views/             # è§†å›¾
â”‚   â”œâ”€â”€ assets/            # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ config/            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ tests/                 # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/        # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/               # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â””â”€â”€ performance/       # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ docs/                  # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ api/               # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·æ–‡æ¡£
â”‚   â””â”€â”€ refactoring/       # é‡æž„æ–‡æ¡£
â”œâ”€â”€ scripts/                # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ dev/               # å¼€å‘è„šæœ¬
â”‚   â”œâ”€â”€ deploy/            # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ test/              # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ backup/            # å¤‡ä»½è„šæœ¬
â”œâ”€â”€ cleanup/               # æ¸…ç†ç›®å½•
â”‚   â”œâ”€â”€ backup_files/      # å¤‡ä»½æ–‡ä»¶
â”‚   â”œâ”€â”€ unused_files/      # æœªä½¿ç”¨æ–‡ä»¶
â”‚   â”œâ”€â”€ duplicate_files/   # é‡å¤æ–‡ä»¶
â”‚   â””â”€â”€ test_files/        # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ app.py                 # ä¸»åº”ç”¨
â”œâ”€â”€ server.py              # FlaskæœåŠ¡å™¨
â”œâ”€â”€ requirements.txt       # ä¾èµ–æ–‡ä»¶
â”œâ”€â”€ pyproject.toml         # é¡¹ç›®é…ç½®
â”œâ”€â”€ Makefile               # æž„å»ºæ–‡ä»¶
â”œâ”€â”€ .env.development       # å¼€å‘çŽ¯å¢ƒé…ç½®
â””â”€â”€ .env.production        # ç”Ÿäº§çŽ¯å¢ƒé…ç½®
```

## ä½¿ç”¨æ–¹æ³•

### å¼€å‘çŽ¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
make install

# å¯åŠ¨å¼€å‘çŽ¯å¢ƒ
make dev

# è¿è¡Œæµ‹è¯•
make test

# æ£€æŸ¥ä»£ç è´¨é‡
make check
```

### ç”Ÿäº§çŽ¯å¢ƒ
```bash
# åˆ›å»ºå¤‡ä»½
make backup

# éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ
make deploy
```

## æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½é‡è¦**: åœ¨åˆ é™¤ä»»ä½•æ–‡ä»¶å‰å…ˆå¤‡ä»½
2. **ç‰ˆæœ¬æŽ§åˆ¶**: ä½¿ç”¨Gitç®¡ç†ä»£ç å˜æ›´
3. **æµ‹è¯•éªŒè¯**: æ¸…ç†åŽè¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½
4. **æ–‡æ¡£æ›´æ–°**: åŠæ—¶æ›´æ–°ç›¸å…³æ–‡æ¡£

## æ¸…ç†æ•ˆæžœ

- âœ… é¡¹ç›®ç»“æž„æ›´æ¸…æ™°
- âœ… æ–‡ä»¶ç»„ç»‡æ›´åˆç†
- âœ… å¼€å‘çŽ¯å¢ƒæ›´å®Œå–„
- âœ… æµ‹è¯•ä½“ç³»æ›´å®Œæ•´
- âœ… æ–‡æ¡£ç®¡ç†æ›´è§„èŒƒ

## åŽç»­å»ºè®®

1. **å®šæœŸæ¸…ç†**: å®šæœŸè¿è¡Œæ¸…ç†è„šæœ¬
2. **ä»£ç å®¡æŸ¥**: å®šæœŸè¿›è¡Œä»£ç å®¡æŸ¥
3. **æ€§èƒ½ç›‘æŽ§**: ç›‘æŽ§ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
4. **ç”¨æˆ·åé¦ˆ**: æ”¶é›†ç”¨æˆ·åé¦ˆæŒç»­æ”¹è¿›
EOF

echo "âœ… ä¸€é”®æ¸…ç†å®Œæˆï¼"
echo ""
echo "ðŸ“Š æ¸…ç†æŠ¥å‘Š:"
echo "  - æ–‡ä»¶çŠ¶æ€æ£€æŸ¥: docs/refactoring/19-file-status-check.md"
echo "  - æ¸…ç†å®ŒæˆæŠ¥å‘Š: docs/refactoring/20-cleanup-complete.md"
echo ""
echo " æ¸…ç†åŽçš„é¡¹ç›®ç»“æž„:"
echo "  - æºä»£ç : src/"
echo "  - æµ‹è¯•æ–‡ä»¶: tests/"
echo "  - æ–‡æ¡£æ–‡ä»¶: docs/"
echo "  - è„šæœ¬æ–‡ä»¶: scripts/"
echo "  - æ¸…ç†æ–‡ä»¶: cleanup/"
echo ""
echo "ðŸ› ï¸ ä½¿ç”¨æ–¹æ³•:"
echo "  make help     - æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤"
echo "  make install  - å®‰è£…ä¾èµ–"
echo "  make dev      - å¯åŠ¨å¼€å‘çŽ¯å¢ƒ"
echo "  make test     - è¿è¡Œæµ‹è¯•"
echo "  make backup   - åˆ›å»ºå¤‡ä»½"
echo ""
echo "âš ï¸ é‡è¦æé†’:"
echo "  1. æ¸…ç†å‰å·²è‡ªåŠ¨å¤‡ä»½é‡è¦æ–‡ä»¶"
echo "  2. ä½¿ç”¨Gitç®¡ç†ç‰ˆæœ¬æŽ§åˆ¶"
echo "  3. æ¸…ç†åŽè¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½"
echo "  4. å®šæœŸè¿è¡Œæ¸…ç†è„šæœ¬ä¿æŒé¡¹ç›®æ•´æ´"
