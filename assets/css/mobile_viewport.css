/* ç§»åŠ¨ç«¯è§†å£é«˜åº¦å¤„ç† - ä¸“é—¨å¤„ç†å°å±å¹•å’Œå¾®ä¿¡æµè§ˆå™¨ */

/* åŸºç¡€ç§»åŠ¨ç«¯è§†å£å¤„ç† */
@media screen and (max-width: 768px) {
    /* ä½¿ç”¨CSSç¯å¢ƒå˜é‡å¤„ç†ç§»åŠ¨ç«¯è§†å£é«˜åº¦ */
    #ai-chat-x-main-layout {
        height: 100vh;
        height: 100dvh; /* åŠ¨æ€è§†å£é«˜åº¦ - æ’é™¤åœ°å€æ  */
        height: 100svh; /* å°è§†å£é«˜åº¦ - ç§»åŠ¨ç«¯ä¼˜åŒ– */
        overflow: hidden !important;
    }
    
    #ai-chat-x-main-layout > div.ant-layout {
        height: calc(100vh - 50px);
        height: calc(100dvh - 50px);
        height: calc(100svh - 50px);
        overflow: hidden !important;
    }
    
    #ai-chat-x-history {
        height: calc(100vh - 240px);
        height: calc(100dvh - 240px);
        height: calc(100svh - 240px);
        maxHeight: calc(100dvh - 240px);
        maxHeight: calc(100svh - 240px);
    }
}

/* è¶…å°å±å¹•å¤„ç† (390px Ã— 844px) */
@media screen and (max-width: 480px) and (max-height: 900px) {
    /* è¿›ä¸€æ­¥ä¼˜åŒ–è¶…å°å±å¹•çš„å¸ƒå±€ */
    #ai-chat-x-main-layout {
        height: 100vh;
        height: 100dvh;
        height: 100svh;
    }
    
    /* ğŸ”§ ç§»é™¤headeré«˜åº¦è®¾ç½®ï¼Œä¿æŒå’Œ575pxä»¥ä¸‹ä¸€è‡´ï¼ˆç”±chat.cssæ§åˆ¶ï¼‰ */
    /* headeré«˜åº¦ç”±chat.cssçš„@media (max-width: 575px)è§„åˆ™æ§åˆ¶ï¼Œä¸å†å•ç‹¬è®¾ç½® */
    
    /* è°ƒæ•´ä¸»ä½“å¸ƒå±€é«˜åº¦ - ä½¿ç”¨chat.cssçš„headeré«˜åº¦ï¼ˆ42pxï¼‰ï¼ŒåŠ ä¸Špaddingçº¦ç­‰äº50px */
    #ai-chat-x-main-layout > div.ant-layout {
        height: calc(100vh - 50px);
        height: calc(100dvh - 50px);
        height: calc(100svh - 50px);
    }
    
    /* è°ƒæ•´èŠå¤©å†å²é«˜åº¦ - ä¿æŒå’Œå…¶ä»–å±å¹•ä¸€è‡´çš„è®¡ç®—æ–¹å¼ */
    #ai-chat-x-history {
        height: calc(100vh - 240px);
        height: calc(100dvh - 240px);
        height: calc(100svh - 240px);
        maxHeight: calc(100dvh - 240px);
        maxHeight: calc(100svh - 240px);
    }
    
    /* ä¼˜åŒ–å­—ä½“å¤§å° */
    #ai-chat-x-main-layout {
        font-size: 13px !important;
    }
    
    #ai-chat-x-header .ant-btn {
        font-size: 13px !important;
        padding: 4px 8px !important;
    }
    
    /* ä¼˜åŒ–è¾“å…¥åŒºåŸŸ - ä¿æŒåŸå§‹paddingï¼Œåªåœ¨å°å±å¹•ä¸‹è°ƒæ•´ */
    #ai-chat-x-input-container {
        /* ä¿æŒåŸå§‹padding: 16px 24pxï¼Œä¸è¦†ç›– */
    }
    
    /* ä¼˜åŒ–æŒ‰é’®å¤§å° */
    .unified-button {
        width: 36px !important;
        height: 36px !important;
    }
}

/* å¾®ä¿¡æµè§ˆå™¨ç‰¹æ®Šå¤„ç† */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
    /* å¾®ä¿¡æµè§ˆå™¨ä½¿ç”¨æ›´ä¿å®ˆçš„é«˜åº¦è®¡ç®— */
    #ai-chat-x-main-layout {
        height: 100vh;
        height: 100dvh;
        /* å¾®ä¿¡æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒsvhï¼Œä½¿ç”¨dvhä½œä¸ºé™çº§ */
    }
    
    #ai-chat-x-main-layout > div.ant-layout {
        height: calc(100vh - 50px);
        height: calc(100dvh - 50px);
    }
    
    #ai-chat-x-history {
        height: calc(100vh - 240px);
        height: calc(100dvh - 240px);
        maxHeight: calc(100dvh - 240px);
    }
}

/* æ¨ªå±æ¨¡å¼å¤„ç† */
@media screen and (max-width: 844px) and (orientation: landscape) {
    /* æ¨ªå±æ—¶è¿›ä¸€æ­¥å‹ç¼©é«˜åº¦ */
    #ai-chat-x-header {
        height: 40px !important;
        min-height: 40px !important;
    }
    
    .ai-chat-x-header-row {
        height: 35px !important;
        min-height: 35px !important;
        padding: 6px 12px !important;
    }
    
    #ai-chat-x-main-layout > div.ant-layout {
        height: calc(100vh - 40px);
        height: calc(100dvh - 40px);
        height: calc(100svh - 40px);
    }
    
    #ai-chat-x-history {
        height: calc(100vh - 230px);
        height: calc(100dvh - 230px);
        height: calc(100svh - 230px);
        maxHeight: calc(100dvh - 230px);
        maxHeight: calc(100svh - 230px);
    }
}

/* è¶…å°å±å¹•æ¨ªå±å¤„ç† */
@media screen and (max-width: 844px) and (max-height: 480px) and (orientation: landscape) {
    #ai-chat-x-header {
        height: 35px !important;
        min-height: 35px !important;
    }
    
    .ai-chat-x-header-row {
        height: 30px !important;
        min-height: 30px !important;
        padding: 4px 8px !important;
    }
    
    #ai-chat-x-main-layout > div.ant-layout {
        height: calc(100vh - 35px);
        height: calc(100dvh - 35px);
        height: calc(100svh - 35px);
    }
    
    #ai-chat-x-history {
        height: calc(100vh - 225px);
        height: calc(100dvh - 225px);
        height: calc(100svh - 225px);
        maxHeight: calc(100dvh - 225px);
        maxHeight: calc(100svh - 225px);
    }
}

/* å®‰å…¨åŒºåŸŸå¤„ç† - æ”¯æŒiPhone Xç­‰æœ‰åˆ˜æµ·å±çš„è®¾å¤‡ */
@supports (padding: max(0px)) {
    @media screen and (max-width: 768px) {
        #ai-chat-x-main-layout {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
        
        #ai-chat-x-header {
            padding-top: env(safe-area-inset-top);
        }
    }
}

/* é˜²æ­¢å†…å®¹æº¢å‡ºçš„é¢å¤–ä¿æŠ¤ */
@media screen and (max-width: 768px) {
    /* ç¡®ä¿æ‰€æœ‰å®¹å™¨éƒ½æœ‰æœ€å°é«˜åº¦é™åˆ¶ */
    #ai-chat-x-main-layout,
    #ai-chat-x-main-layout > div,
    #ai-chat-x-right-content,
    #ai-chat-x-history {
        min-height: 0 !important;
        min-width: 0 !important;
    }
    
    /* é˜²æ­¢flexå­å…ƒç´ æº¢å‡º */
    .ant-layout,
    .ant-layout-content,
    .ant-layout-footer {
        min-height: 0 !important;
        min-width: 0 !important;
    }
    
    /* ç¡®ä¿æ»šåŠ¨å®¹å™¨æ­£å¸¸å·¥ä½œ */
    #ai-chat-x-history {
        overflow-y: auto !important;
        overflow-x: hidden !important;
    }
}
